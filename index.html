<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MW AI Concierge</title>

  <style>
    :root{
      --blue:#2926EF;  /* SeniorLimo Bright Blue */
      --gold:#C28B00;  /* Gold */
      --bg:#060A12;
      --panel: rgba(10,14,24,.78);
      --stroke: rgba(234,240,255,.18);
      --text:#EAF0FF;
      --muted: rgba(234,240,255,.75);
      --shadow: rgba(0,0,0,.55);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 30% 10%, rgba(41,38,239,.25), transparent 60%),
        radial-gradient(900px 500px at 70% 90%, rgba(194,139,0,.18), transparent 55%),
        linear-gradient(180deg, #050816 0%, #04060F 40%, #03040A 100%);
      overflow-x: hidden;
    }

    .wrap{
      max-width: 1040px;
      margin: 0 auto;
      padding: 30px 16px 40px;
    }

    .hero{
      text-align: center;
      padding: 12px 0 20px;
    }
    .hero h1{
      margin: 0;
      font-size: clamp(28px, 4vw, 44px);
      letter-spacing: .5px;
    }
    .hero .sub{
      margin-top: 6px;
      color: rgba(234,240,255,.70);
      font-size: 14px;
    }

    .panel{
      background: var(--panel);
      border: 1px solid var(--stroke);
      border-radius: 22px;
      box-shadow: 0 20px 60px var(--shadow);
      padding: 18px;
    }

    .top-actions{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      margin-bottom: 16px;
    }

    .btn{
      appearance: none;
      border: 1px solid rgba(194,139,0,.55);
      background: linear-gradient(180deg, rgba(41,38,239,.40), rgba(41,38,239,.22));
      color: var(--text);
      border-radius: 14px;
      padding: 14px 14px;
      font-weight: 700;
      text-align: center;
      cursor: pointer;
      box-shadow: 0 8px 22px rgba(0,0,0,.35);
      transition: transform .06s ease, filter .15s ease;
    }
    .btn:active{ transform: translateY(1px); }
    .btn:hover{ filter: brightness(1.08); }

    .status-row{
      display:flex;
      align-items:center;
      gap: 12px;
      margin: 10px 0 14px;
      flex-wrap: wrap;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.18);
      color: rgba(234,240,255,.92);
      font-weight: 650;
    }

    .toggle{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: rgba(0,0,0,.18);
      user-select: none;
    }

    .toggle input{ transform: scale(1.1); }

    .chat{
      border: 1px solid rgba(234,240,255,.14);
      border-radius: 16px;
      background: rgba(0,0,0,.16);
      padding: 14px;
      min-height: 240px;
      max-height: 520px;
      overflow: auto;
    }

    .msg{
      margin: 10px 0;
      line-height: 1.45;
      white-space: pre-wrap;
    }
    .who{
      font-weight: 800;
      margin-right: 6px;
    }
    .who.you{ color: rgba(234,240,255,.95); }
    .who.wiz{ color: rgba(234,240,255,.95); }

    .input-row{
      display:flex;
      gap: 10px;
      margin-top: 12px;
    }
    .input-row input{
      flex:1;
      padding: 14px 14px;
      border-radius: 14px;
      border: 1px solid rgba(234,240,255,.16);
      background: rgba(0,0,0,.20);
      color: var(--text);
      outline: none;
      font-size: 16px;
    }
    .input-row input::placeholder{ color: rgba(234,240,255,.45); }

    .send{
      padding: 14px 18px;
      border-radius: 14px;
      border: 1px solid rgba(41,38,239,.55);
      background: linear-gradient(180deg, rgba(41,38,239,.50), rgba(41,38,239,.28));
      color: var(--text);
      font-weight: 800;
      cursor: pointer;
      box-shadow: 0 10px 24px rgba(0,0,0,.35);
    }
    .send:disabled{
      opacity: .55;
      cursor: not-allowed;
    }

    footer{
      text-align:center;
      margin-top: 12px;
      color: rgba(234,240,255,.55);
      font-size: 12px;
    }

    @media (max-width: 720px){
      .top-actions{ grid-template-columns: 1fr; }
      .wrap{ padding-top: 22px; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="hero">
      <h1>MW AI Concierge</h1>
      <div class="sub">Powered by Ability3Media</div>
    </div>

    <div class="panel">
      <div class="top-actions">
        <button class="btn" id="btnPerks">Freedom Wellness+ Perks</button>
        <button class="btn" id="btnEco">SeniorLimo Ecosystem</button>
      </div>

      <div class="status-row">
        <div class="pill" id="statusPill"><span class="who wiz">Wizard:</span> Ready.</div>

        <label class="toggle" title="When Voice is on, Wizard will read answers out loud.">
          <input type="checkbox" id="voiceToggle" />
          <span>Voice</span>
        </label>
      </div>

      <div class="chat" id="chat"></div>

      <div class="input-row">
        <input id="userInput" type="text" placeholder="Tap a button or ask me a question..." autocomplete="off" />
        <button class="send" id="sendBtn">Send</button>
      </div>

      <footer>© 2026 Ability3Media · All Rights Reserved</footer>
    </div>
  </div>

  <script>
    /*
      IMPORTANT (internal-only):
      - Keep answers professional. No “replace this” notes inside the answer strings.
      - If you want the longer, exact book text, paste it into ANSWERS.perks / ANSWERS.ecosystem.
      - Voice speaks ONLY the final wizard answer text (no labels, no internal notes).
    */

    const chatEl = document.getElementById("chat");
    const inputEl = document.getElementById("userInput");
    const sendBtn = document.getElementById("sendBtn");
    const voiceToggle = document.getElementById("voiceToggle");

    const btnPerks = document.getElementById("btnPerks");
    const btnEco = document.getElementById("btnEco");

    // Start voice OFF by default (so it never surprises you)
    voiceToggle.checked = false;

    // ====== CLEAN, CUSTOMER-FACING ANSWERS ONLY ======
    // Replace these with your exact SeniorLimo book text when ready.
    const ANSWERS = {
      perks:
`Freedom Wellness+ is a member program designed to reward consistent riders with real benefits and priority support.

Member perks can include:
• Priority booking and faster support
• Member-only benefits and partner perks
• Community give-back support (nonprofits and churches)
• A simple, consistent experience built for seniors

If you want, I can also explain how memberships work and what to expect when booking.`,

      ecosystem:
`SeniorLimo is a membership-based affiliate carpool ecosystem designed to support senior mobility, local businesses, and community wellness.

The ecosystem connects:
• Seniors who need reliable rides and meaningful member perks
• Local businesses that provide value through Gold Deals
• Nonprofits and churches supported through community give-back

Together, these partners help seniors stay independent while strengthening the local economy.`
    };

    // ====== CHAT HELPERS ======
    function appendMessage(role, text){
      const row = document.createElement("div");
      row.className = "msg";

      const who = document.createElement("span");
      who.className = "who " + (role === "you" ? "you" : "wiz");
      who.textContent = role === "you" ? "You:" : "Wizard:";

      const body = document.createElement("span");
      body.textContent = " " + text;

      row.appendChild(who);
      row.appendChild(body);
      chatEl.appendChild(row);
      chatEl.scrollTop = chatEl.scrollHeight;
    }

    // ====== VOICE (speech synthesis) ======
    function speak(text){
      try{
        if(!voiceToggle.checked) return;
        if(!("speechSynthesis" in window)) return;

        const synth = window.speechSynthesis;
        synth.cancel(); // stop anything currently speaking

        const u = new SpeechSynthesisUtterance(text);

        // Make it less “robotic” by slowing slightly.
        // (Different devices/voices vary a lot, but this helps.)
        u.rate = 0.92;
        u.pitch = 1.0;
        u.volume = 1.0;

        // Try to pick a smoother English voice if available
        const voices = synth.getVoices ? synth.getVoices() : [];
        const preferred =
          voices.find(v => /en-US/i.test(v.lang) && /Siri|Daniel|Samantha|Karen|Google/i.test(v.name)) ||
          voices.find(v => /en-US/i.test(v.lang)) ||
          voices.find(v => /en/i.test(v.lang)) ||
          voices[0];

        if(preferred) u.voice = preferred;

        synth.speak(u);
      }catch(e){
        // If voice fails, we do nothing—never break the app.
      }
    }

    // Some browsers load voices async; this primes the list
    if("speechSynthesis" in window){
      window.speechSynthesis.onvoiceschanged = () => {};
    }

    function handleWizardAnswer(answerText){
      appendMessage("wizard", answerText);
      speak(answerText);
    }

    // ====== BUTTONS ======
    btnPerks.addEventListener("click", () => {
      appendMessage("you", "Freedom Wellness+ Perks");
      handleWizardAnswer(ANSWERS.perks);
    });

    btnEco.addEventListener("click", () => {
      appendMessage("you", "SeniorLimo Ecosystem");
      handleWizardAnswer(ANSWERS.ecosystem);
    });

    // ====== TEXT INPUT ======
    function handleSend(){
      const q = (inputEl.value || "").trim();
      if(!q) return;

      appendMessage("you", q);
      inputEl.value = "";

      // Simple routing (basic for now). You can expand later.
      const lower = q.toLowerCase();

      if(lower.includes("perk") || lower.includes("freedom")){
        handleWizardAnswer(ANSWERS.perks);
        return;
      }
      if(lower.includes("ecosystem") || lower.includes("seniorlimo")){
        handleWizardAnswer(ANSWERS.ecosystem);
        return;
      }

      handleWizardAnswer(
`I can help with that. For now, tap one of the buttons above, or ask about Freedom Wellness+ perks or the SeniorLimo ecosystem.`
      );
    }

    sendBtn.addEventListener("click", handleSend);
    inputEl.addEventListener("keydown", (e) => {
      if(e.key === "Enter") handleSend();
    });

    // ====== INITIAL MESSAGE ======
    appendMessage("wizard", "I am here. Tap a button or ask me a question.");
  </script>
</body>
</html>
