<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MW AI Concierge</title>
  <style>
    :root{
      --blue:#2926EF;
      --gold:#C28B00;
      --bg:#060A12;
      --panel: rgba(10,14,24,.78);
      --stroke: rgba(234,240,255,.18);
      --text:#EAF0FF;
      --muted: rgba(234,240,255,.72);
      --shadow: rgba(0,0,0,.55);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 30% 10%, rgba(41,38,239,.25), transparent 60%),
        radial-gradient(900px 500px at 70% 90%, rgba(194,139,0,.18), transparent 60%),
        linear-gradient(180deg, #050812, #060A12 30%, #050812);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }
    .wrap{
      width:min(980px, 100%);
    }
    .title{
      text-align:center;
      font-size:clamp(28px, 4vw, 44px);
      font-weight:800;
      letter-spacing:.4px;
      margin:8px 0 6px;
    }
    .subtitle{
      text-align:center;
      color:var(--muted);
      margin:0 0 18px;
      font-weight:500;
    }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--stroke);
      border-radius:18px;
      box-shadow: 0 18px 40px var(--shadow);
      padding:18px;
      position:relative;
      overflow:hidden;
    }
    .card:before{
      content:"";
      position:absolute;
      inset:-2px;
      border-radius:18px;
      padding:2px;
      background: linear-gradient(90deg, rgba(194,139,0,.55), rgba(41,38,239,.55));
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events:none;
      opacity:.75;
    }
    .row{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
      justify-content:center;
      margin-bottom:14px;
    }
    .btn{
      appearance:none;
      border:1px solid rgba(194,139,0,.65);
      background: linear-gradient(180deg, rgba(41,38,239,.55), rgba(41,38,239,.25));
      color:var(--text);
      font-weight:800;
      letter-spacing:.2px;
      padding:14px 18px;
      border-radius:14px;
      min-width:min(420px, 100%);
      cursor:pointer;
      transition: transform .08s ease, filter .12s ease;
      box-shadow: 0 10px 22px rgba(0,0,0,.35);
      font-size:18px;
    }
    .btn:active{ transform: translateY(1px); }
    .btn:hover{ filter: brightness(1.06); }

    .toolbar{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:flex-start;
      flex-wrap:wrap;
      margin:8px 0 12px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:999px;
      background: rgba(255,255,255,.04);
      border:1px solid var(--stroke);
      color:var(--muted);
      font-weight:600;
    }
    .switch{
      display:inline-flex;
      align-items:center;
      gap:8px;
      cursor:pointer;
      user-select:none;
    }
    input[type="checkbox"]{
      width:18px;height:18px;
      accent-color: var(--blue);
    }
    .log{
      border:1px solid var(--stroke);
      background: rgba(0,0,0,.22);
      border-radius:14px;
      padding:14px;
      min-height:140px;
      line-height:1.5;
      white-space:pre-wrap;
    }
    .msg{ margin:0 0 10px; }
    .who{ font-weight:900; }
    .muted{ color:var(--muted); }

    .chatbar{
      display:flex;
      gap:10px;
      margin-top:12px;
    }
    .chatbar input{
      flex:1;
      padding:12px 12px;
      border-radius:12px;
      border:1px solid var(--stroke);
      background: rgba(255,255,255,.04);
      color:var(--text);
      font-size:16px;
      outline:none;
    }
    .chatbar button{
      padding:12px 16px;
      border-radius:12px;
      border:1px solid rgba(41,38,239,.6);
      background: rgba(41,38,239,.35);
      color:var(--text);
      font-weight:800;
      cursor:pointer;
    }
    .footer{
      text-align:center;
      color: rgba(234,240,255,.45);
      margin-top:14px;
      font-size:13px;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="title">MW AI Concierge</div>
    <div class="subtitle">Powered by Ability3Media</div>

    <div class="card">
      <div class="row">
        <button class="btn" id="btnFreedom">Freedom Wellness+ Perks</button>
        <button class="btn" id="btnEcosystem">SeniorLimo Ecosystem</button>
      </div>

      <div class="toolbar">
        <div class="pill">
          <span class="who">Wizard:</span>
          <span id="statusText" class="muted">Ready.</span>
        </div>

        <label class="switch pill" title="Toggle voice on/off">
          <input type="checkbox" id="voiceToggle" checked />
          <span>Voice</span>
        </label>
      </div>

      <div class="log" id="log"></div>

      <div class="chatbar">
        <input id="input" placeholder="Ask Mr. Wizard..." />
        <button id="send">Send</button>
      </div>

      <div class="footer">© 2026 Ability3Media · All Rights Reserved</div>
    </div>
  </div>

<script>
  // =========================
  // CONFIG
  // =========================
  // If you have a backend/worker endpoint later, put it here:
  // Example: const API_URL = "https://your-worker.workers.dev/api/chat";
  const API_URL = ""; // leave blank for demo mode

  // Demo answers (so you can SEE it working even without AI wired)
  const DEMO = {
    "Freedom Wellness+ Perks": [
      "Freedom Wellness+ includes priority support, member perks, and community give-back.",
      "Members get a simple, consistent experience — built for seniors, not tech experts.",
      "This is designed to support mobility, independence, and local wellness."
    ].join("\n\n"),
    "SeniorLimo Ecosystem": [
      "SeniorLimo is a membership-based affiliate carpool ecosystem designed to support senior mobility, local businesses, and community wellness.",
      "The ecosystem connects:",
      "• Seniors who need reliable rides and meaningful member perks",
      "• Local businesses that provide value through Gold Deals",
      "• Nonprofits and churches see support through community give-back",
      "",
      "Together, these partners create a community-supported system that helps seniors stay independent while strengthening the local economy."
    ].join("\n")
  };

  // =========================
  // UI HELPERS
  // =========================
  const logEl = document.getElementById("log");
  const statusEl = document.getElementById("statusText");
  const voiceToggle = document.getElementById("voiceToggle");
  const inputEl = document.getElementById("input");
  const sendBtn = document.getElementById("send");

  function addMsg(who, text){
    const p = document.createElement("p");
    p.className = "msg";
    p.innerHTML = `<span class="who">${who}:</span> ${escapeHtml(text)}`;
    logEl.appendChild(p);
    logEl.scrollTop = logEl.scrollHeight;
  }

  function escapeHtml(str){
    return String(str)
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }

  // =========================
  // VOICE (Browser TTS)
  // =========================
  function speak(text){
    if(!voiceToggle.checked) return;
    if(!("speechSynthesis" in window)) return;

    try{
      window.speechSynthesis.cancel(); // stop previous
      const u = new SpeechSynthesisUtterance(text);

      // Basic softening (still depends on device voices)
      u.rate = 0.95;
      u.pitch = 1.0;
      u.volume = 1.0;

      // Try to pick a nicer English voice if available
      const voices = window.speechSynthesis.getVoices() || [];
      const preferred = voices.find(v => /en/i.test(v.lang) && /Siri|Premium|Enhanced/i.test(v.name))
                    || voices.find(v => /en/i.test(v.lang))
                    || null;
      if(preferred) u.voice = preferred;

      window.speechSynthesis.speak(u);
    }catch(e){
      // ignore
    }
  }

  // Some browsers load voices async
  if("speechSynthesis" in window){
    window.speechSynthesis.onvoiceschanged = () => {};
  }

  // =========================
  // ASK WIZARD
  // =========================
  async function askWizard(prompt){
    statusEl.textContent = "Thinking...";
    addMsg("You", prompt);

    // DEMO MODE (no API wired yet)
    if(!API_URL){
      const lower = prompt.toLowerCase();
      let answer = "I’m here. Ask me about Freedom Wellness+ or the SeniorLimo Ecosystem.";
      if(lower.includes("freedom")) answer = DEMO["Freedom Wellness+ Perks"];
      if(lower.includes("ecosystem") || lower.includes("seniorlimo")) answer = DEMO["SeniorLimo Ecosystem"];

      addMsg("Wizard", answer);
      speak(answer);
      statusEl.textContent = "Ready.";
      return;
    }

    // API MODE
    try{
      const res = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type":"application/json" },
        body: JSON.stringify({ message: prompt })
      });

      const data = await res.json().catch(() => ({}));
      const answer = data.reply || data.text || data.answer || "I didn’t get a reply from the server.";
      addMsg("Wizard", answer);
      speak(answer);
    }catch(err){
      addMsg("Wizard", "Server error. If you’re in demo mode, leave API_URL blank.");
    }finally{
      statusEl.textContent = "Ready.";
    }
  }

  // =========================
  // BUTTONS + CHAT
  // =========================
  document.getElementById("btnFreedom").addEventListener("click", () => {
    askWizard("Freedom Wellness+ Perks");
  });

  document.getElementById("btnEcosystem").addEventListener("click", () => {
    askWizard("SeniorLimo Ecosystem");
  });

  sendBtn.addEventListener("click", () => {
    const text = inputEl.value.trim();
    if(!text) return;
    inputEl.value = "";
    askWizard(text);
  });

  inputEl.addEventListener("keydown", (e) => {
    if(e.key === "Enter"){
      sendBtn.click();
    }
  });

  // Start message
  addMsg("Wizard", "I am here. Tap a button or ask me a question.");
  speak("I am here. Tap a button or ask me a question.");
</script>
</body>
</html>
